# Unity-Training
这里放一些学习Unity期间做的小demo

//2020年11月7日
放上一个宝可梦的小demo
教程来源：https://www.youtube.com/channel/UCswdeChigkx5uN1PwgfTqzQ

//2020年12月17日
放上一个模仿CSOL的昼夜求生2模式的射击游戏DEMO（还没有做完）
以为太大传不了Github了，贴个网盘地址
百度网盘地址：链接：https://pan.baidu.com/s/17LWXYIDQTV7Ed75WPK2H-g 提取码：k7s6 

//2021年5/10日
放上一个模仿暗黑地牢制作的Demo，还有一个战棋游戏的Demo  

2021/5/22  
重构了部分逻辑，优化了AI(把判断最近玩家角色的逻辑从直接判断曼哈顿距离改成Dijsktra搜索最近的角色，效果会好一些，不过效率慢了点)。  
想了想还是不能够太依赖库，把原本用C#自带的SortedSet包装的优先队列学习着用堆实现了一下，插入复杂度上差不了多少，就是堆查找的时候是O(N)复杂度，比用红黑树实现的SortedSet来着慢了一点。    
2021/5/23  
写了一套BUFF系统，把BUFF效果触发分成5个方法，在对应的地方调用来改变角色数值，攻击伤害，行动回合的变化等。  
2021/5/24  
重构了关卡信息，加入了播放自定义剧情的功能，还有根据回合数触发关卡自定义事件。  
发现了个BUG,角色触发完可互动物体，如果玩家撤回操作，可互动物体不会还原，比如开完宝箱再撤回移动，宝箱还是处在被开了的状态，并且道具也在角色包里。  
然后用命令模式重构了角色触发道具的逻辑，支持了撤销移动会还原可互动物品。  
给角色加了个小血条。  
2021/5/26  
重构了一些代码，再Editor里写了个简单的角色编辑器，用来编辑关卡内角色的信息。  
2021/6/8
重构了一些代码，重写了技能系统。
新写了一个数据驱动型的技能系统，通过解析Json文件来获取Skill信息，然后再通过Skill信息来完成技能流程。完成类似Dota2那样可以自定义技能的功能（当然自定义的效果没有那么好）
技能系统的实现流程：
首先我将技能划分为5个触发点: “技能开始”“技能生效前”“技能生效时”“技能生效后”“技能结束”  
在每个触发点中，有俩种条件 “IF条件” “目标条件”，IF条件可以在IF表达式为True时执行目标条件，而目标条件可以直接执行对目标的行为。  
每个触发点和IF条件最终都是要调用一个目标条件，而目标条件携带了目标，用来执行各种行为。  
行为就是技能系统的最终实现，可以对Unit添加BUFF，造成伤害，回复血量，移除BUFF等等，如果有不同的需求可以定义不同的行为，配合BUFF系统可以实现很多种效果。技能系统放在Assets\Script\Gameplay\SkillSystem下，而我目前自定义的一个测试技能放在\Assets\SkillData下的Skill.json文件中，
反序列化这个文件获得的是一个Dictionary<string,Skill>，Key是技能名字，Value是技能本身。测试的话，直接运行游戏，点击任意的角色，移动完后选择Wait按钮，就可以触发技能(临时测试)，技能释放着为玩家的Unit0，目标为Enemy0.在Debug栏可以看到技能的伤害和Succ AddBuff(概率成功附加Buff)提示。
自己想自定义试试的话可以直接在Skill.json中定义，然后在\Script下的Test脚本修改一下SkillDetail为自定义的技能名称即可。
	
	
